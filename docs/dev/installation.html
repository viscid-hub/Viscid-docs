
<!DOCTYPE html>

<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="X-UA-Compatible" content="IE=Edge" />
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <title>Installation &#8212; Viscid 1.0.0.dev10 documentation</title>
    <link rel="stylesheet" href="_static/bootstrap-sphinx.css" type="text/css" />
    <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    <script type="text/javascript" id="documentation_options" data-url_root="./" src="_static/documentation_options.js"></script>
    <script type="text/javascript" src="_static/jquery.js"></script>
    <script type="text/javascript" src="_static/underscore.js"></script>
    <script type="text/javascript" src="_static/doctools.js"></script>
    <script type="text/javascript" src="_static/language_data.js"></script>
    <script type="text/javascript" src="_static/js/jquery-1.11.0.min.js"></script>
    <script type="text/javascript" src="_static/js/jquery-fix.js"></script>
    <script type="text/javascript" src="_static/bootstrap-3.3.7/js/bootstrap.min.js"></script>
    <script type="text/javascript" src="_static/bootstrap-sphinx.js"></script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="Philosophy" href="philosophy.html" />
    <link rel="prev" title="Viscid: Visualizing Plasma Simulations in Python" href="index.html" />
<link rel="icon" href="_static/favicon.ico" type="image/x-icon">
<link rel="shortcut icon" href="_static/favicon.ico" type="image/x-icon">
<link rel="apple-touch-icon-precomposed" href="_static/Vicon_128.png">
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1">
<meta name="apple-mobile-web-app-capable" content="yes">
<link rel="stylesheet" href="_static/my-css.css" type="text/css" />

  </head><body>

  <div id="navbar" class="navbar navbar-default navbar-fixed-top">
    <div class="container">
      <div class="navbar-header">
        <!-- .btn-navbar is used as the toggle for collapsed navbar content -->
        <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".nav-collapse">
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
        </button>
        <a class="navbar-brand" href="index.html">
          Viscid</a>
        <span class="navbar-text navbar-version pull-left"><b>1.0.0.dev10</b></span>
      </div>

        <div class="collapse navbar-collapse nav-collapse">
          <ul class="nav navbar-nav">
            
            
    <li class="dropdown">
      <a role="button"
         id="dLabelNavLinxToc"
         data-toggle="dropdown"
         data-target="#"
         href="#">Tutorial <b class="caret"></b></a>
      <ul class="dropdown-menu navlinktoc"
          role="menu">
          <li class="toctree-l1">
            <a class="reference internal", href="#">Installation</a>
          </li>
          <li class="toctree-l1">
            <a class="reference internal", href="tutorial/load_save.html">Loading & Saving</a>
          </li>
          <li class="toctree-l1">
            <a class="reference internal", href="tutorial/creating_fields.html">Creating Fields</a>
          </li>
          <li class="toctree-l1">
            <a class="reference internal", href="tutorial/slicing.html">Slicing Fields</a>
          </li>
          <li class="toctree-l1">
            <a class="reference internal", href="tutorial/plotting_scalars.html">Plotting Scalars</a>
          </li>
          <li class="toctree-l1">
            <a class="reference internal", href="tutorial/plotting_vectors.html">Plotting Vectors</a>
          </li>
          <li class="toctree-l1">
            <a class="reference internal", href="tutorial/mayavi.html">3D Plots (Mayavi)</a>
          </li>
          <li class="toctree-l1">
            <a class="reference internal", href="tutorial/openggcm.html">OpenGGCM Specific</a>
          </li>
          <li class="toctree-l1">
            <a class="reference internal", href="tutorial/ionosphere.html">Ionosphere</a>
          </li>
          <li class="toctree-l1">
            <a class="reference internal", href="tutorial/stream_and_interp.html">Streamline and Interpolation</a>
          </li>
          <li class="toctree-l1">
            <a class="reference internal", href="tutorial/magnetic_topology.html">Magnetic Topology</a>
          </li>
          <li class="toctree-l1">
            <a class="reference internal", href="tutorial/magnetopause.html">Magnetopause</a>
          </li>
          <li class="toctree-l1">
            <a class="reference internal", href="tutorial/quasi_potential.html">Quasi Potential</a>
          </li>
      </ul>
    </li>

            
              <li class="dropdown globaltoc-container">
  <a role="button"
     id="dLabelGlobalToc"
     data-toggle="dropdown"
     data-target="#"
     href="index.html">Site <b class="caret"></b></a>
  <ul class="dropdown-menu globaltoc"
      role="menu"
      aria-labelledby="dLabelGlobalToc"><ul class="current">
<li class="toctree-l1 current"><a class="current reference internal" href="#">Installation</a></li>
<li class="toctree-l1"><a class="reference internal" href="philosophy.html">Philosophy</a></li>
<li class="toctree-l1"><a class="reference internal" href="indexing.html">Indexing Fields</a></li>
<li class="toctree-l1"><a class="reference internal" href="tutorial/index.html">Tutorial</a></li>
<li class="toctree-l1"><a class="reference internal" href="functions.html">Useful Functions</a></li>
<li class="toctree-l1"><a class="reference internal" href="plot_options.html">Plot Options</a></li>
<li class="toctree-l1"><a class="reference internal" href="tips_and_tricks.html">Tips &amp; Tricks</a></li>
<li class="toctree-l1"><a class="reference internal" href="custom_behavior.html">Custom Behavior (rc file)</a></li>
<li class="toctree-l1"><a class="reference internal" href="mpl_style_gallery.html">Matplotlib Style Gallery</a></li>
<li class="toctree-l1"><a class="reference internal" href="dev_guide.html">Developer’s Guide</a></li>
<li class="toctree-l1"><a class="reference internal" href="extending_readers.html">Extending Readers</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="api/viscid.html">API</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="changes.html">ChangeLog</a></li>
</ul>
</ul>
</li>
              
                <li class="dropdown">
  <a role="button"
     id="dLabelLocalToc"
     data-toggle="dropdown"
     data-target="#"
     href="#">Page <b class="caret"></b></a>
  <ul class="dropdown-menu localtoc"
      role="menu"
      aria-labelledby="dLabelLocalToc"><ul>
<li><a class="reference internal" href="#">Installation</a><ul>
<li><a class="reference internal" href="#dependencies">Dependencies</a></li>
<li><a class="reference internal" href="#installing-anaconda-optional">Installing Anaconda (optional)</a></li>
<li><a class="reference internal" href="#installing-viscid">Installing Viscid</a><ul>
<li><a class="reference internal" href="#choice-1-anaconda">Choice 1: Anaconda</a></li>
<li><a class="reference internal" href="#choice-2-pypi-pip">Choice 2: PyPI (pip)</a></li>
<li><a class="reference internal" href="#choice-3-source">Choice 3: Source</a><ul>
<li><a class="reference internal" href="#choice-3a-installed">Choice 3a: installed</a></li>
<li><a class="reference internal" href="#choice-3b-inplace">Choice 3b: inplace</a></li>
</ul>
</li>
</ul>
</li>
<li><a class="reference internal" href="#verify-installation">Verify Installation</a></li>
<li><a class="reference internal" href="#installing-mayavi-optional">Installing Mayavi (optional)</a></li>
<li><a class="reference internal" href="#workarounds">Workarounds</a><ul>
<li><a class="reference internal" href="#ubuntu">Ubuntu</a></li>
<li><a class="reference internal" href="#os-x">OS X</a></li>
</ul>
</li>
</ul>
</li>
</ul>
</ul>
</li>
              
            
            
            
            
            
          </ul>

          
            
<form class="navbar-form navbar-right" action="search.html" method="get">
 <div class="form-group">
  <input type="text" name="q" class="form-control" placeholder="Search" />
 </div>
  <input type="hidden" name="check_keywords" value="yes" />
  <input type="hidden" name="area" value="default" />
</form>
          
        </div>
    </div>
  </div>

<div class="container">
  <div class="row">
    <div class="col-md-12 content">
      
  <div class="section" id="installation">
<h1>Installation<a class="headerlink" href="#installation" title="Permalink to this headline">¶</a></h1>
<style type="text/css">
img {
    padding-top: 10pt;
    padding-bottom: 12pt;
}
</style><style type="text/css">
div.topic {
    border-style: none;
}
</style><div class="contents local topic" id="contents">
<ul class="simple">
<li><a class="reference internal" href="#dependencies" id="id2">Dependencies</a></li>
<li><a class="reference internal" href="#installing-anaconda-optional" id="id3">Installing Anaconda (optional)</a></li>
<li><a class="reference internal" href="#installing-viscid" id="id4">Installing Viscid</a><ul>
<li><a class="reference internal" href="#choice-1-anaconda" id="id5">Choice 1: Anaconda</a></li>
<li><a class="reference internal" href="#choice-2-pypi-pip" id="id6">Choice 2: PyPI (pip)</a></li>
<li><a class="reference internal" href="#choice-3-source" id="id7">Choice 3: Source</a><ul>
<li><a class="reference internal" href="#choice-3a-installed" id="id8">Choice 3a: installed</a></li>
<li><a class="reference internal" href="#choice-3b-inplace" id="id9">Choice 3b: inplace</a></li>
</ul>
</li>
</ul>
</li>
<li><a class="reference internal" href="#verify-installation" id="id10">Verify Installation</a></li>
<li><a class="reference internal" href="#installing-mayavi-optional" id="id11">Installing Mayavi (optional)</a></li>
<li><a class="reference internal" href="#workarounds" id="id12">Workarounds</a><ul>
<li><a class="reference internal" href="#ubuntu" id="id13">Ubuntu</a></li>
<li><a class="reference internal" href="#os-x" id="id14">OS X</a></li>
</ul>
</li>
</ul>
</div>
<div class="section" id="dependencies">
<h2><a class="toc-backref" href="#id2">Dependencies</a><a class="headerlink" href="#dependencies" title="Permalink to this headline">¶</a></h2>
<ul class="simple">
<li>Required<ul>
<li>Python 2.6, 2.7, or 3.3+</li>
<li>Numpy 1.9+</li>
<li>Argparse (Python 2.6 only)</li>
</ul>
</li>
<li>Recommended<ul>
<li>IPython <em>(better interactive interpreter)</em></li>
<li>Matplotlib 1.4+ <em>(if you want to make 2d plots using viscid.plot.vpyplot)</em></li>
<li>Scipy <em>(enables nonlinear interpolation and curve fitting)</em></li>
<li>Numexpr <em>(for faster math on large grids)</em></li>
<li>H5py <em>(enables hdf5 reader)</em></li>
</ul>
</li>
<li>Optional<ul>
<li>Seaborn</li>
<li>Mayavi2 <a class="footnote-reference" href="#f1" id="id1">[1]</a> <em>(if you want to make 3d plots using viscid.plot.vlab)</em></li>
<li>PyYaml <em>(rc file and plot options can parse using yaml)</em></li>
</ul>
</li>
<li>Optional for developers<ul>
<li>Cython 0.28+ <em>(if you change pyx / pxd files)</em></li>
<li>Sphinx 1.3+</li>
</ul>
</li>
</ul>
<table class="docutils footnote" frame="void" id="f1" rules="none">
<colgroup><col class="label" /><col /></colgroup>
<tbody valign="top">
<tr><td class="label"><a class="fn-backref" href="#id1">[1]</a></td><td>Installing Mayavi can be tricky. Please <a class="reference internal" href="#installing-mayavi"><span class="std std-ref">read this section</span></a> before attempting to install it.</td></tr>
</tbody>
</table>
</div>
<div class="section" id="installing-anaconda-optional">
<h2><a class="toc-backref" href="#id3">Installing Anaconda (optional)</a><a class="headerlink" href="#installing-anaconda-optional" title="Permalink to this headline">¶</a></h2>
<p>The <a class="reference external" href="https://www.anaconda.com/distribution/">Anaconda Python Distribution</a> makes managing dependencies and virtual environments wicked straight forward (and almost pleasant). You can download the full distribution, but it’s laden with packages you probably don’t need. Also, since <code class="docutils literal notranslate"><span class="pre">conda</span> <span class="pre">install</span></code> is so easy to use, I recommend the lightweight miniconda:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span><span class="k">if</span> <span class="o">[</span> <span class="s2">&quot;</span><span class="k">$(</span>uname -s<span class="k">)</span><span class="s2">&quot;</span> <span class="o">==</span> <span class="s2">&quot;Linux&quot;</span> <span class="o">]</span><span class="p">;</span> <span class="k">then</span>
  wget -O miniconda.sh https://repo.anaconda.com/miniconda/Miniconda3-latest-Linux-x86_64.sh
<span class="k">elif</span> <span class="o">[</span> <span class="s2">&quot;</span><span class="k">$(</span>uname -s<span class="k">)</span><span class="s2">&quot;</span> <span class="o">==</span> <span class="s2">&quot;Darwin&quot;</span> <span class="o">]</span><span class="p">;</span> <span class="k">then</span>
  curl -o miniconda.sh https://repo.anaconda.com/miniconda/Miniconda3-latest-MacOSX-x86_64.sh
<span class="k">fi</span>
bash miniconda.sh -b -p <span class="nv">$HOME</span>/local/anaconda
rm miniconda.sh
<span class="nb">source</span> <span class="nv">$HOME</span>/local/anaconda/etc/profile.d/conda.sh
conda config --set changeps1 no
conda update -q conda
conda activate
</pre></div>
</div>
<p>You can now add something like this to your bashrc or profile,</p>
<div class="highlight-bash notranslate" id="conda-bashrc-blurb"><div class="highlight"><pre><span></span><span class="nb">export</span> <span class="nv">_CONDA_ROOT_PREFIX</span><span class="o">=</span><span class="si">${</span><span class="nv">HOME</span><span class="si">}</span>/local/anaconda  <span class="c1"># &lt;- point to anaconda</span>
<span class="nb">export</span> <span class="nv">CONDA_DEFAULT_ENV</span><span class="o">=</span>base  <span class="c1"># &lt;- edit this to taste</span>
<span class="c1"># there is no need to edit the following lines directly</span>
<span class="nb">source</span> <span class="si">${</span><span class="nv">_CONDA_ROOT_PREFIX</span><span class="si">}</span>/etc/profile.d/conda.sh
<span class="nb">export</span> <span class="nv">CONDA_SHLVL</span><span class="o">=</span><span class="m">1</span>
<span class="nb">export</span> <span class="nv">CONDA_EXE</span><span class="o">=</span><span class="si">${</span><span class="nv">_CONDA_ROOT_PREFIX</span><span class="si">}</span>/bin/conda
<span class="k">if</span> <span class="o">[</span> <span class="s2">&quot;</span><span class="si">${</span><span class="nv">CONDA_DEFAULT_ENV</span><span class="si">}</span><span class="s2">&quot;</span> <span class="o">=</span> <span class="s2">&quot;base&quot;</span> <span class="o">]</span><span class="p">;</span> <span class="k">then</span>
  <span class="nb">export</span> <span class="nv">CONDA_PREFIX</span><span class="o">=</span><span class="s2">&quot;</span><span class="si">${</span><span class="nv">_CONDA_ROOT_PREFIX</span><span class="si">}</span><span class="s2">&quot;</span>
<span class="k">else</span>
  <span class="nb">export</span> <span class="nv">CONDA_PREFIX</span><span class="o">=</span><span class="s2">&quot;</span><span class="si">${</span><span class="nv">_CONDA_ROOT_PREFIX</span><span class="si">}</span><span class="s2">/envs/</span><span class="si">${</span><span class="nv">CONDA_DEFAULT_ENV</span><span class="si">}</span><span class="s2">&quot;</span>
<span class="k">fi</span>
<span class="nb">export</span> <span class="nv">CONDA_PROMPT_MODIFIER</span><span class="o">=</span><span class="s2">&quot;&quot;</span>
<span class="nb">export</span> <span class="nv">CONDA_PYTHON_EXE</span><span class="o">=</span><span class="s2">&quot;</span><span class="si">${</span><span class="nv">_CONDA_ROOT_PREFIX</span><span class="si">}</span><span class="s2">/bin/python&quot;</span>
<span class="nb">export</span> <span class="nv">PATH</span><span class="o">=</span><span class="s2">&quot;</span><span class="si">${</span><span class="nv">CONDA_PREFIX</span><span class="si">}</span><span class="s2">/bin:</span><span class="si">${</span><span class="nv">PATH</span><span class="si">}</span><span class="s2">&quot;</span>
</pre></div>
</div>
</div>
<div class="section" id="installing-viscid">
<h2><a class="toc-backref" href="#id4">Installing Viscid</a><a class="headerlink" href="#installing-viscid" title="Permalink to this headline">¶</a></h2>
<p>You have a few choices for installing Viscid. Here is a quick breakdown of why you might choose one method over another.</p>
<ul class="simple">
<li><a class="reference internal" href="#choice1-conda"><span class="std std-ref">Anaconda</span></a><ul>
<li><strong>+</strong>  Installs with a single command</li>
<li><strong>+</strong>  No compiler needed</li>
<li><strong>+</strong>  Available for macOS, Linux, and Windows</li>
<li><strong>+</strong>  Automatically installs recommended dependencies</li>
<li><strong>+</strong>  Optional dependencies are equally easy to install</li>
<li><strong>-</strong>  You won’t be able to edit Viscid’s source code. You might naively edit the modules in site-packages, but this will confuse the conda package manager beyond repair.</li>
</ul>
</li>
<li><a class="reference internal" href="#choice2-pypi"><span class="std std-ref">PyPI (pip)</span></a><ul>
<li><strong>+</strong>  Installs with a single command</li>
<li><strong>+</strong>  No compiler needed</li>
<li><strong>+</strong>  Available for macOS, Linux, and Windows</li>
<li><strong>-</strong>  Dependencies must be explicitly installed</li>
<li><strong>-</strong>  Requires Numpy 1.14+ on Windows</li>
</ul>
</li>
<li><a class="reference internal" href="#choice3-source"><span class="std std-ref">Source</span></a><ul>
<li><strong>+</strong>  Most flexible</li>
<li><strong>-</strong>  Requires some knowledge about PATH and PYTHONPATH (but don’t let this scare you, it’s fairly straight forward)</li>
<li><strong>-</strong>  Dependencies must be explicitly installed</li>
<li><strong>-</strong>  Requires a C compiler for interpolation and streamline functions</li>
<li><strong>-</strong>  Requires a Fortran compiler for jrrle file support</li>
</ul>
</li>
</ul>
<div class="section" id="choice-1-anaconda">
<span id="choice1-conda"></span><h3>Choice 1: <a class="reference external" href="http://anaconda.org/viscid-hub/viscid">Anaconda</a><a class="headerlink" href="#choice-1-anaconda" title="Permalink to this headline">¶</a></h3>
<a class="reference external image-reference" href="https://anaconda.org/viscid-hub/viscid"><img alt="Anaconda Version" src="https://anaconda.org/viscid-hub/viscid/badges/version.svg" /></a>
<a class="reference external image-reference" href="https://anaconda.org/viscid-hub/viscid"><img alt="Anaconda Platforms" src="https://anaconda.org/viscid-hub/viscid/badges/platforms.svg" /></a>
<p>If you have Anaconda, then installing Viscid and all the recommended dependencies happens with one command,</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>conda install -c viscid-hub viscid
</pre></div>
</div>
<p>You can check that the install succeeded by running,</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>python -m viscid --check
</pre></div>
</div>
</div>
<div class="section" id="choice-2-pypi-pip">
<span id="choice2-pypi"></span><h3>Choice 2: <a class="reference external" href="http://pypi.org/project/viscid/">PyPI</a> (pip)<a class="headerlink" href="#choice-2-pypi-pip" title="Permalink to this headline">¶</a></h3>
<a class="reference external image-reference" href="https://pypi.org/project/Viscid/"><img alt="PyPI" src="https://img.shields.io/pypi/v/Viscid.svg" /></a>
<p>Binary wheels are available on PyPI for Python 2.7, 3.5, 3.6, and 3.7 on MacOS, Linux, and Windows.</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>pip install viscid
</pre></div>
</div>
<p>If these wheels don’t work for you, pip can also install from source (optionally requires a C compiler for interpolation and streamline support, and a Fortran compiler for Jrrle file support).</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>pip install --no-binary :all: viscid
</pre></div>
</div>
<p>Compile errors will not cause Viscid’s pip install to fail, and pip hides warning messages unless you use the <code class="docutils literal notranslate"><span class="pre">-v</span></code> flag. To check the functionality of your install, run</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>python -m viscid --check
</pre></div>
</div>
</div>
<div class="section" id="choice-3-source">
<span id="choice3-source"></span><h3><a class="toc-backref" href="#id7">Choice 3: Source</a><a class="headerlink" href="#choice-3-source" title="Permalink to this headline">¶</a></h3>
<p>First, you’ll have to clone the Viscid git repository. This should be done in whatever directory you want to store the Viscid source code. I use <code class="docutils literal notranslate"><span class="pre">~/src</span></code> myself.</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>git clone https://github.com/viscid-hub/Viscid.git

<span class="c1"># Optional: set qt5 as the default matplotlib backend</span>
mkdir -p ~/.config/matplotlib
<span class="nb">echo</span> <span class="s2">&quot;backend: Qt5Agg&quot;</span> &gt;&gt; ~/.config/matplotlib/matplotlibrc

<span class="c1"># Optional: copy the default viscidrc file</span>
cp Viscid/resources/viscidrc ~/.viscidrc
</pre></div>
</div>
<p>If you are using Anaconda to manage your dependencies, you can use the default Viscid environment to automatically install all Viscid’s dependencies,</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>conda env create -f Viscid/resources/viscid36mayavi.yml

<span class="c1"># if you need mayavi, but don&#39;t have OpenGL 3.2, you</span>
<span class="c1"># will have to use python2.7 (Viscid/resources/viscid27.yml)</span>

<span class="c1"># this activation must be done for each new command prompt</span>
conda activate viscid36mayavi  <span class="c1"># or viscid27, etc.</span>
</pre></div>
</div>
<p><a class="reference internal" href="#conda-bashrc-blurb"><span class="std std-ref">Read this</span></a> if you need help editing your bashrc or profile to set the default Anaconda environment.</p>
<p>Viscid should work with native compiler toolchains, but in case you don’t have access to native compilers, the Anaconda toolchains should work too. <a class="reference external" href="https://conda.io/docs/user-guide/tasks/build-packages/compiler-tools.html">Check here</a> to find the appropriate packages for your platform. On Windows, you should use the MSVC compiler and Anaconda’s <code class="docutils literal notranslate"><span class="pre">m2w64-gcc-fortran</span></code>. <a class="reference external" href="https://wiki.python.org/moin/WindowsCompilers">Read this</a> for more information about acquiring the correct Microsoft compiler. If you are using CPython 3.5 or 3.6, you probably need the MSVC 14 compiler <a class="reference external" href="https://www.visualstudio.com/downloads/#build-tools-for-visual-studio-2017">available here</a>. You do <strong>not</strong> need to install visual studio to get the build tools.</p>
<p>Now you have a choice about how you want to use Viscid. If you intend to edit Viscid’s source code, then I recommend building it inplace. Otherwise, it probably makes more sense to simply install Viscid into your python distribution.</p>
<div class="section" id="choice-3a-installed">
<h4><a class="toc-backref" href="#id8">Choice 3a: installed</a><a class="headerlink" href="#choice-3a-installed" title="Permalink to this headline">¶</a></h4>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span><span class="nb">cd</span> Viscid
python setup.py install
<span class="c1"># the above line is synonymous with `make install`</span>

<span class="c1"># or, if you don&#39;t have write permission, try</span>
<span class="c1"># python setup.py install --user</span>
</pre></div>
</div>
<p>To see if the install succeeded, try</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span><span class="c1"># kick the tires</span>
python -m viscid --check
<span class="c1"># run the full test suite</span>
make instcheck
</pre></div>
</div>
<p>To pull updates from github in the future, use</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>git pull
python setup.py install
</pre></div>
</div>
</div>
<div class="section" id="choice-3b-inplace">
<h4><a class="toc-backref" href="#id9">Choice 3b: inplace</a><a class="headerlink" href="#choice-3b-inplace" title="Permalink to this headline">¶</a></h4>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span><span class="nb">cd</span> Viscid
python setup.py build_ext -i
<span class="c1"># the above line is synonymous with `make inplace`</span>

<span class="c1"># To set environment variables in Bash</span>
<span class="nv">profile</span><span class="o">=</span><span class="s2">&quot;</span><span class="si">${</span><span class="nv">HOME</span><span class="si">}</span><span class="s2">/.bashrc&quot;</span>
<span class="nb">echo</span> <span class="s1">&#39;export PATH=&quot;${PATH}:&#39;</span><span class="s2">&quot;</span><span class="si">${</span><span class="nv">PWD</span><span class="si">}</span><span class="s2">/scripts\&quot;&quot;</span> &gt;&gt; <span class="si">${</span><span class="nv">profile</span><span class="si">}</span>
<span class="nb">echo</span> <span class="s1">&#39;export PYTHONPATH=&quot;${PYTHONPATH}:&#39;</span><span class="s2">&quot;</span><span class="si">${</span><span class="nv">PWD</span><span class="si">}</span><span class="s2">\&quot;&quot;</span> &gt;&gt; <span class="si">${</span><span class="nv">profile</span><span class="si">}</span>
<span class="nb">source</span> <span class="si">${</span><span class="nv">profile</span><span class="si">}</span>
</pre></div>
</div>
<p>To see if the build succeeded, try</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span><span class="c1"># kick the tires</span>
python -m viscid --check
<span class="c1"># run the full test suite</span>
make check
</pre></div>
</div>
<p>To pull updates from github in the future, use</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>git pull
python setup.py build_ext -i
</pre></div>
</div>
</div>
</div>
</div>
<div class="section" id="verify-installation">
<h2><a class="toc-backref" href="#id10">Verify Installation</a><a class="headerlink" href="#verify-installation" title="Permalink to this headline">¶</a></h2>
<p>You can always run the following to check for any installation warnings. It is most helpful when verifying whether or not the C / Fortran modules compiled successfully.</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>python -m viscid --check
</pre></div>
</div>
</div>
<div class="section" id="installing-mayavi-optional">
<span id="installing-mayavi"></span><h2><a class="toc-backref" href="#id11">Installing Mayavi (optional)</a><a class="headerlink" href="#installing-mayavi-optional" title="Permalink to this headline">¶</a></h2>
<div class="admonition warning">
<p class="first admonition-title">Warning</p>
<p class="last">Do <strong>not</strong> install Mayavi using pip into an Anaconda environment. This will break your environment in a way that requires you to reinstall Anaconda. The issue is that pip happily clobbers some parts of pyqt that are hard linked to a cache. You have been warned.</p>
</div>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">I do not recommend using the <code class="docutils literal notranslate"><span class="pre">conda-forge</span></code> channel for VTK or Mayavi. These binaries frequently have runtime problems caused by interactions with specific versions of vtk / pyqt.</p>
</div>
<p>Installing Mayavi can be a mine field of incompatible dependencies. Here is a table to help you choose your poison. If your environment is not in the table, then it is likely not supported by Mayavi / VTK.</p>
<table border="1" class="table-striped docutils">
<colgroup>
<col width="13%" />
<col width="14%" />
<col width="24%" />
<col width="49%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">OS</th>
<th class="head">Python Version</th>
<th class="head">OpenGL / MESA</th>
<th class="head">Installation Command</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>MacOS</td>
<td>3.5+</td>
<td>OpenGL 3.2+</td>
<td><code class="docutils literal notranslate"><span class="pre">conda</span> <span class="pre">install</span> <span class="pre">-c</span> <span class="pre">viscid-hub</span> <span class="pre">mayavi</span></code></td>
</tr>
<tr class="row-odd"><td>MacOS</td>
<td>2.7</td>
<td>OpenGL 3.2+</td>
<td><code class="docutils literal notranslate"><span class="pre">conda</span> <span class="pre">install</span> <span class="pre">-c</span> <span class="pre">viscid-hub</span> <span class="pre">mayavi</span></code></td>
</tr>
<tr class="row-even"><td>MacOS</td>
<td>2.7</td>
<td>Any</td>
<td><code class="docutils literal notranslate"><span class="pre">conda</span> <span class="pre">install</span> <span class="pre">mayavi</span> <span class="pre">vtk=6</span></code></td>
</tr>
<tr class="row-odd"><td>Linux</td>
<td>3.5+</td>
<td>OpenGL 3.2+, MESA 11.2+</td>
<td><code class="docutils literal notranslate"><span class="pre">conda</span> <span class="pre">install</span> <span class="pre">-c</span> <span class="pre">viscid-hub</span> <span class="pre">mayavi</span></code></td>
</tr>
<tr class="row-even"><td>Linux</td>
<td>2.7</td>
<td>OpenGL 3.2+, MESA 11.2+</td>
<td><code class="docutils literal notranslate"><span class="pre">conda</span> <span class="pre">install</span> <span class="pre">-c</span> <span class="pre">viscid-hub</span> <span class="pre">mayavi</span></code></td>
</tr>
<tr class="row-odd"><td>Linux</td>
<td>2.7</td>
<td>Any</td>
<td><code class="docutils literal notranslate"><span class="pre">conda</span> <span class="pre">install</span> <span class="pre">mayavi</span> <span class="pre">vtk=6</span></code></td>
</tr>
<tr class="row-even"><td>Windows</td>
<td>3.5+</td>
<td>OpenGL 3.2+</td>
<td><code class="docutils literal notranslate"><span class="pre">conda</span> <span class="pre">install</span> <span class="pre">-c</span> <span class="pre">viscid-hub</span> <span class="pre">mayavi</span></code></td>
</tr>
<tr class="row-odd"><td>Windows</td>
<td>2.7</td>
<td>Any</td>
<td><code class="docutils literal notranslate"><span class="pre">conda</span> <span class="pre">install</span> <span class="pre">mayavi</span> <span class="pre">vtk=6</span></code></td>
</tr>
</tbody>
</table>
<p>The Enthought Tool Suite requires some confusing environment variables. Effectively you can just cycle through these options until you find a combination that works.</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span><span class="nb">export</span> <span class="nv">ETS_TOOLKIT</span><span class="o">=</span><span class="s1">&#39;qt&#39;</span>  <span class="c1"># or &quot;qt4&quot; or &quot;wx&quot; for older versions of pyface</span>
<span class="nb">export</span> <span class="nv">QT_API</span><span class="o">=</span><span class="s2">&quot;pyqt5&quot;</span>  <span class="c1"># or &quot;pyqt&quot; or &quot;pyside&quot;</span>
</pre></div>
</div>
<p>Also, if you are using MESA to emulate the new OpenGL API for VTK 7+, you may need the following environment variables,</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span><span class="nb">export</span> <span class="nv">MESA_GL_VERSION_OVERRIDE</span><span class="o">=</span><span class="m">3</span>.2
<span class="nb">export</span> <span class="nv">MESA_GLSL_VERSION_OVERRIDE</span><span class="o">=</span><span class="m">150</span>
</pre></div>
</div>
<p><a class="reference internal" href="functions.html#functions-mayavi"><span class="std std-ref">Check here</span></a> for a discussion of Viscid’s wrapper functions and workarounds, <a class="reference internal" href="tutorial/mayavi.html"><span class="doc">and here</span></a> for an example of Mayavi in action.</p>
</div>
<div class="section" id="workarounds">
<h2><a class="toc-backref" href="#id12">Workarounds</a><a class="headerlink" href="#workarounds" title="Permalink to this headline">¶</a></h2>
<div class="section" id="ubuntu">
<h3><a class="toc-backref" href="#id13">Ubuntu</a><a class="headerlink" href="#ubuntu" title="Permalink to this headline">¶</a></h3>
<p>All Linux workarounds are currently incorporated in <code class="docutils literal notranslate"><span class="pre">setup.py</span></code>.</p>
</div>
<div class="section" id="os-x">
<h3><a class="toc-backref" href="#id14">OS X</a><a class="headerlink" href="#os-x" title="Permalink to this headline">¶</a></h3>
<p>If you see a link error that says <code class="docutils literal notranslate"><span class="pre">-lgcc_s.10.5</span></code> can’t be found, try running:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">sudo</span> <span class="n">su</span> <span class="n">root</span> <span class="o">-</span><span class="n">c</span> <span class="s2">&quot;mkdir -p /usr/local/lib &amp;&amp; ln -s /usr/lib/libSystem.B.dylib /usr/local/lib/libgcc_s.10.5.dylib&quot;</span>
</pre></div>
</div>
</div>
</div>
</div>


    </div>
      
  </div>
</div>
<footer class="footer">
  <div class="container">
    <p class="pull-right">
      <a href="#">Back to top</a>
      
        <br/>
        
<div id="sourcelink">
  <a href="_sources/installation.rst.txt"
     rel="nofollow">Source</a>
</div>
      
    </p>
    <p>
        &copy; Copyright 2018, Kristofor Maynard.<br/>
      Created using <a href="http://sphinx-doc.org/">Sphinx</a> 1.8.4.<br/>
    </p>
  </div>
</footer>
  </body>
</html>